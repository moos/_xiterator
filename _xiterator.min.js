/*
* _xiterator.js
* 
* 	"expression iterator" extension for Underscore javascript library
* 
* Copyright (c) 2010 
* http://github.com/moos/_xiterator
* Released under MIT license
* 
* Version 0.1 - Last updated: 2010.04.12
*/
(function(f){var b=this;var d="each forEach map detect select filter reject all every any some max min sortBy times";var e=f.map;function g(i,n,o,j){if(arguments.length===1){return i}var s=false;if(!f.isString(o)&&!(s=f.isRegExp(o))){var q=f.rest(arguments);return i.apply(n,q)}this._=f;var m="((_ && _.isFunction && _) || (this._))";if(j&&j._&&!j._.isFunction){throw"TypeError: context._ doesn't appear to be proper Underscore object"}if(j&&!("_" in j)){j._=f}var k=[];s=s||/^\/.*\/[a-z]*$/i.test(o=a(o));if(s){k.push(o+".test(__value)")}else{var l=new RegExp("<=|<|>=|>|==|===|!=|!==");var r=o.split(/(\s+|\b)/);e(r,function(w,u){if(w===""){return}var t;if((t=a(w))===""){return k.push(w)}w=t;var v=w[0]==="!"&&w[1]!=="=";if(v){w=w.substr(1);k.push("!")}if(w.substr(0,2)==="is"&&w in f&&typeof f[w]==="function"){k.push(m+'["'+w+'"](__value)')}else{if(l.test(w)){k.push(" __value "+w)}else{k.push(w)}}})}var p;p=new Function("__value","__key","__list","return "+k.join(""));p=f.bind(p,j||this);return i(n,p,j)}function h(i){return f.bind(g,{},i)}function a(l){if(String.prototype.trim){return l.trim()}var l=l.replace(/^\s\s*/,""),j=/\s/,k=l.length;while(j.test(l.charAt(--k))){}return l.slice(0,k+1)}var c={};f.each(d.split(/\s+/),function(i){c[i]=h(f[i])});f.extend(c,{isBlank:function(i){return(i===null||a(""+i)==="")},isOdd:function(i){return(i!==null&&(Number(i)%2)===1)},isEven:function(i){return(i!==null&&(Number(i)%2)===0)},});f.mixin(c)})(_);